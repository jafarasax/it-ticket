+<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IT Ticket</title>
  <style>
    body{font-family:system-ui,Segoe UI,Tahoma,Arial; background:#0b1220; color:#e9eef7; margin:0; padding:24px;}
    .card{max-width:920px; margin:0 auto; background:#121a2b; border:1px solid #23304a; border-radius:16px; padding:18px 18px 24px;}
    h1{margin:6px 0 2px; font-size:22px;}
    .sub{opacity:.85; margin:0 0 16px; font-size:13px;}
    .grid{display:grid; grid-template-columns:1fr 1fr; gap:12px;}
    label{display:block; font-size:13px; margin:10px 0 6px; opacity:.95;}
    select, input, textarea{width:100%; box-sizing:border-box; padding:10px 12px; border-radius:12px; border:1px solid #2a3a5a; background:#0f1729; color:#e9eef7; outline:none;}
    textarea{min-height:110px; resize:vertical;}
    .row{display:flex; gap:12px; flex-wrap:wrap;}
    .pill{padding:8px 10px; border:1px solid #2a3a5a; border-radius:999px; font-size:12px; opacity:.95; cursor:pointer; user-select:none;}
    .pill input{margin-left:6px;}
    .actions{display:flex; gap:10px; margin-top:16px;}
    button{padding:10px 14px; border-radius:12px; border:1px solid #2a3a5a; background:#1f4e79; color:#fff; cursor:pointer; font-weight:700;}
    button.secondary{background:transparent;}
    .note{font-size:12px; opacity:.8; margin-top:10px;}
    .hidden{display:none;}
    @media (max-width:760px){ .grid{grid-template-columns:1fr;} }
  </style>
</head>
<body>
  <div class="card">
    <h1>Ø§Ù„Ø¯Ø¹Ù… ÙÙ†ÙŠ</h1>
    <p class="sub">IT Support Ticket </p>

    <div class="grid">
      <div>
        <label>Ø§Ù„Ù†Ø¸Ø§Ù… | Select OS</label>
        <select id="os" required>
          <option value="" selected disabled>Ø§Ø®ØªØ±â€¦</option>
          <option>Windows 11</option>
          <option>Windows 10</option>
          <option>Android</option>
          <option>Ubuntu Linux</option>
          <option>Windows Server</option>
        </select>
      </div>
      <div>
        <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© | Problem Type</label>
        <select id="ptype" required>
          <option value="" selected disabled>Ø§Ø®ØªØ±â€¦</option>
          <option value="Software">Software (Ø¨Ø±Ù…Ø¬ÙŠØ©)</option>
          <option value="Hardware">Hardware (Ø¹ØªØ§Ø¯ÙŠØ©)</option>
        </select>
      </div>
    </div>
	

    <div id="issuesBlock">
      <label> Issues (Ø§Ø®ØªÙŠØ§Ø± Ù…ØªØ¹Ø¯Ø¯)</label>
      <div id="issues" class="row"></div>
    </div>

    <div class="grid">
      <div>
        <label>Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© | Priority</label>
        <select id="priority" required>
          <option value="" selected disabled>Ø§Ø®ØªØ±â€¦</option>
          <option>Ù…Ù†Ø®ÙØ¶</option>
          <option>Ù…ØªÙˆØ³Ø·</option>
          <option>Ø¹Ø§Ù„ÙŠ</option>
          <option>Ø­Ø±Ø¬</option>
        </select>
      </div>
      <div>
        <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø³Ù„ | Name</label>
        <input id="name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" />
      </div>
    </div>

    <div class="grid">
     
      <div>
       <label>Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙˆØ­Ø¯Ø© | Select Unit</label>
        <select id="tech">
  <option value="">ØºÙŠØ± Ù…Ø­Ø¯Ø¯</option>
  <option value="IT Support Unit">IT Support Unit</option>
  <option value="Network Operations Unit">Network Operations Unit</option>
  <option value="Printing Services Unit">Printing Services Unit</option>

</select>
      </div>
	  <div>
  <label> SN | ID | ÙƒÙˆØ¯ Ø§Ù„Ø¹ØªØ¨Ø© </label>
  <input id="contact" placeholder=" Ø±Ù‚Ù… Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ùˆ ÙƒÙˆØ¯ Ø§Ù„Ø¹ØªØ¨Ø© Ø§Ùˆ  Ø³Ø±ÙŠØ§Ù„
  " />
</div>

    </div>

    <label>Ø§Ù„ÙˆØµÙ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ | Description</label>
    <textarea id="desc" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ØªÙØ§ØµÙŠÙ„â€¦"></textarea>

    <div class="actions">
      <button id="submit">Submit</button>
      
    </div>

    <div class="note">

    </div>
  </div>
<script>
/* ğŸ”— Ø¶Ø¹ Ø±Ø§Ø¨Ø· Web App Ù‡Ù†Ø§ */
const WEBAPP_URL = "https://script.google.com/macros/s/AKfycbzZWbjoaZYVu2ALRTESvoT0ZyqnsIQ9NU1dHsUQPhp7sTthtKX71ihTYE9sYnRUcFmq/exec";

/* ====== Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø­Ø³Ø¨ Ø§Ù„Ù†Ø¸Ø§Ù… ====== */
const issuesByOS = {
  "Windows 11": ["Ù„Ø§ ÙŠÙ‚Ù„Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… (Boot)","ØªØ­Ø¯ÙŠØ« ÙØ§Ø´Ù„","Ø´Ø§Ø´Ø© Ø²Ø±Ù‚Ø§Ø¡ (BSOD)","Ø¨Ø·Ø¡ Ø´Ø¯ÙŠØ¯","Ù…Ø´ÙƒÙ„Ø© ØªØ¹Ø±ÙŠÙØ§Øª","Ù…Ø´ÙƒÙ„Ø© ØªÙØ¹ÙŠÙ„","Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø© (No Display)","Ø§Ø±ØªÙØ§Ø¹ Ø­Ø±Ø§Ø±Ø©","Ø¹Ø·Ù„ Ù‚Ø±Øµ (SSD/HDD)","Ø®Ù„Ù„ RAM"],
  "Windows 10": ["Ù„Ø§ ÙŠÙ‚Ù„Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… (Boot)","ØªØ­Ø¯ÙŠØ« ÙØ§Ø´Ù„","Ø´Ø§Ø´Ø© Ø²Ø±Ù‚Ø§Ø¡ (BSOD)","Ø¨Ø·Ø¡ Ø´Ø¯ÙŠØ¯","Ù…Ø´ÙƒÙ„Ø© ØªØ¹Ø±ÙŠÙØ§Øª","Ù…Ø´ÙƒÙ„Ø© ØªÙØ¹ÙŠÙ„","Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø© (No Display)","Ø§Ø±ØªÙØ§Ø¹ Ø­Ø±Ø§Ø±Ø©","Ø¹Ø·Ù„ Ù‚Ø±Øµ (SSD/HDD)","Ø®Ù„Ù„ RAM"],
  "Android": ["ØªÙ‡Ù†ÙŠØ¬/Ø¨Ø·Ø¡","Ø§Ù†Ù‡ÙŠØ§Ø± ØªØ·Ø¨ÙŠÙ‚","Bootloop","Ø§Ø³ØªÙ†Ø²Ø§Ù Ø¨Ø·Ø§Ø±ÙŠØ©","Ù…Ø´ÙƒÙ„Ø© Ø´Ø­Ù†","ØªØ¹Ø·Ù„ Ù„Ù…Ø³","Ù…Ø´ÙƒÙ„Ø© Ø´Ø¨ÙƒØ©/Wi-Fi","Ø§Ù…ØªÙ„Ø§Ø¡ Ù…Ø³Ø§Ø­Ø©"],
  "Ubuntu Linux": ["Ø®Ø·Ø£ GRUB","ÙØ´Ù„ ØªØ«Ø¨ÙŠØª Ø­Ø²Ù…","ØªØ¹Ø§Ø±Ø¶ Dependencies","Ø§Ù„Ø´Ø¨ÙƒØ© Ù„Ø§ ØªØ¹Ù…Ù„","Ù…Ø´ÙƒÙ„Ø© ØªØ¹Ø±ÙŠÙ ÙƒØ±Øª","Ø®Ø·Ø£ Mount Ù„Ù„Ù‚Ø±Øµ"],
  "Windows Server": ["Ù…Ø´ÙƒÙ„Ø© Active Directory","DNS/DHCP Ù„Ø§ ÙŠØ¹Ù…Ù„","Ø®Ø¯Ù…Ø© Ù…ØªÙˆÙ‚ÙØ©","Ù…Ø´ÙƒÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„/Ù…ØµØ§Ø¯Ù‚Ø©","ÙØ´Ù„ Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ","Ù…Ø´ÙƒÙ„Ø© RAID","Ù…Ø´ÙƒÙ„Ø© Ø´Ø¨ÙƒØ©"]
};

/* ====== Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ ====== */
function renderIssues(){
  const os = document.getElementById('os').value;
  const wrap = document.getElementById('issues');
  wrap.innerHTML = '';
  (issuesByOS[os] || []).forEach((t)=>{
    const div = document.createElement('label');
    div.className = 'pill';
    div.innerHTML = `<input type="checkbox" value="${t}"> ${t}`;
    wrap.appendChild(div);
  });
}
document.getElementById('os').addEventListener('change', renderIssues);

/* ====== Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ====== */
function collect(){
  const issues = [...document.querySelectorAll('#issues input:checked')].map(x=>x.value);
  return {
    os: document.getElementById('os').value,
    problemType: document.getElementById('ptype').value,
    issues: issues,
    priority: document.getElementById('priority').value,
    name: document.getElementById('name').value,
    contact: document.getElementById('contact').value,
    technician: document.getElementById('tech').value,
    description: document.getElementById('desc').value,
    createdAt: new Date().toISOString()
  };
}

/* ====== Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Google Sheets ====== */
async function sendToSheet(payload){
  const res = await fetch(WEBAPP_URL, {
    method: "POST",
    headers: { "Content-Type": "text/plain;charset=utf-8" },
    body: JSON.stringify(payload)
  });
  return await res.json();
}

/* ====== Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ====== */
document.getElementById('submit').addEventListener('click', async ()=>{
  const data = collect();
  if(!data.os || !data.problemType || !data.priority){
    alert('Ø±Ø¬Ø§Ø¡Ù‹ Ø£ÙƒÙ…Ù„ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (OS / Type / Priority)');
    return;
  }

  try {
    const result = await sendToSheet(data);
    if(result.ok){
      alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ°ÙƒØ±Ø© Ø¨Ù†Ø¬Ø§Ø­ âœ…\nØ±Ù‚Ù… Ø§Ù„ØªØ°ÙƒØ±Ø©: " + result.ticketId);
    } else {
      alert("ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ âŒ\n" + result.error);
    }
  } catch (e) {
    alert("Ø®Ø·Ø£ Ø§ØªØµØ§Ù„ âŒ\n" + e.message);
  }
});
</script>
</body>
</html>
